<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Installation</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,fn-in,2,next --> 
<meta name="src" content="cug-html.tex"> 
<meta name="date" content="2018-03-28 12:29:00"> 
<link rel="stylesheet" type="text/css" href="cug-html.css"> 
</head><body 
>
<!--l. 381--><div class="crosslinks"><p class="noindent">[<a 
href="cug-htmlse4.html" >next</a>] [<a 
href="cug-htmlse2.html" >prev</a>] [<a 
href="cug-htmlse2.html#tailcug-htmlse2.html" >prev-tail</a>] [<a 
href="#tailcug-htmlse3.html">tail</a>] [<a 
href="cug-html.html#cug-htmlse3.html" >up</a>] </p></div>
<!--l. 381--><p class="noindent" > <h3 id="3" class="sectionHead"><span class="titlemark"> <a href="#3">3</a>  <a 
 id="x4-90003"></a>Installation </span></h3> <div class="sectionTOCS">
&#x00A0;<span class="subsectionToc" >3.1 <a 
href="#x4-100003.1">External Software Packages</a></span>
<br />&#x00A0;<span class="subsectionToc" >3.2 <a 
href="#x4-110003.2">Software Bundled With Cylc</a></span>
<br />&#x00A0;<span class="subsectionToc" >3.3 <a 
href="#x4-120003.3">Installing Cylc</a></span>
<br />&#x00A0;<span class="subsectionToc" >3.4 <a 
href="#x4-160003.4">Automated Tests</a></span>
</div>
<!--l. 384--><p class="noindent" >Cylc runs on Unix variants, usually Linux, and including Apple OS X.
<!--l. 386--><p class="noindent" >
<!--l. 386--><p class="noindent" > <h4 id="3.1" class="subsectionHead"> <span class="titlemark"> <a href="#3.1"> 3.1</a>  <a 
 id="x4-100003.1"></a>External Software Packages </span></h4>
<!--l. 388--><p class="noindent" ><span 
class="cmbx-10">Python </span><span class="lstinline"><span 
class="pcrb7t-">&#x003E;=</span></span> <span 
class="cmbx-10">2.6 </span>is required (but not yet Python 3). Python should already be installed in your Linux system.
<a 
href="https://python.org" class="url" ><span 
class="pcrr7t-">https://python.org</span></a>.
<!--l. 391--><p class="noindent" >For Cylc&#8217;s HTTPS communications layer:
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmbx-10">OpenSSL </span>- <a 
href="https://www.openssl.org/" class="url" ><span 
class="pcrr7t-">https://www.openssl.org/</span></a>
     </li>
     <li class="itemize"><span 
class="cmbx-10">pyOpenSSL </span>- <a 
href="http://www.pyopenssl.org/" class="url" ><span 
class="pcrr7t-">http://www.pyopenssl.org/</span></a>
     </li>
     <li class="itemize"><span 
class="cmbx-10">python-requests </span>- <a 
href="http://docs.python-requests.org/" class="url" ><span 
class="pcrr7t-">http://docs.python-_requests.org/</span></a>
     </li>
     <li class="itemize">(<span 
class="cmbx-10">python-urllib3 </span>- should be bundled with python-requests)</li></ul>
<!--l. 399--><p class="noindent" >The following packages are highly recommended, but are technically optional as you can construct and run suites
without dependency graph visualisation or the Cylc GUIs:
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmbx-10">PyGTK </span>- GUI toolkit <a 
href="http://www.pygtk.org" class="url" ><span 
class="pcrr7t-">http://www.pygtk.org</span></a>. <span 
class="cmti-10">Note PyGTK typically comes with your system</span>
     <span 
class="cmti-10">Python. It is alledgedly quite difficult to install if you need to do so for another Python version.</span>
     </li>
     <li class="itemize"><span 
class="cmbx-10">Graphviz </span>- graph layout engine (tested 2.36.0): <a 
href="http://www.graphviz.org" class="url" ><span 
class="pcrr7t-">http://www.graphviz.org</span></a>.
                                                                                         

                                                                                         
     </li>
     <li class="itemize"><span 
class="cmbx-10">Pygraphviz </span>- Python Graphviz interface (tested 1.2): <a 
href="http://pygraphviz.github.io/" class="url" ><span 
class="pcrr7t-">http://pygraphviz.github.io/</span></a>. To build this
     you may need some <span 
class="cmti-10">devel </span>packages too:
         <ul class="itemize2">
         <li class="itemize">python-devel
         </li>
         <li class="itemize">graphviz-devel</li></ul>
     </li></ul>
<!--l. 418--><p class="noindent" >The User Guide is generated from <span class="LATEX">L<span class="A">A</span><span class="TEX">T<span 
class="E">E</span>X</span></span>source files by running <span class="lstinline"><span 
class="pcrr7t-">make</span></span> in the top level Cylc directory. The specific
packages required may vary by distribution, e.g.:
     <ul class="itemize1">
     <li class="itemize">texlive
     </li>
     <li class="itemize">texlive-tocloft
     </li>
     <li class="itemize">texlive-framed
     </li>
     <li class="itemize">texlive-preprint (for <span class="lstinline"><span 
class="pcrr7t-">fullpage</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">sty</span></span>)
     </li>
     <li class="itemize">texlive-tex4ht</li></ul>
<!--l. 430--><p class="noindent" >To generate the HTML User Guide <span 
class="cmbx-10">ImageMagick </span>is also needed.
<!--l. 432--><p class="noindent" >In most modern Linux distributions all of the software above can be installed via the system package manager.
Otherwise download packages manually and follow their native installation instructions. To check that all (non
<span class="LATEX">L<span class="A">A</span><span class="TEX">T<span 
class="E">E</span>X</span></span>packages) are installed properly:
<!--l. 438-->
<div class="lstlisting" id="listing-1"><span class="label"><a 
 id="x4-10001r1"></a></span><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">check</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">software</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x4-10002r2"></a></span><span 
class="pcrr7t-">Checking</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">for</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">Python</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">&#x003E;=</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">2.6</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">...</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">found</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">2.7.6</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">...</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">ok</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x4-10003r3"></a></span><span 
class="pcrr7t-">Checking</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">for</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">non</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">Python</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">packages</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x4-10004r4"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">+</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">Graphviz</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">...</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">ok</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x4-10005r5"></a></span><span 
class="pcrr7t-">Checking</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">for</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">Python</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">packages</span><span 
class="pcrr7t-">:</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x4-10006r6"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">+</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pygraphviz</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">...</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">ok</span><span 
class="pcrr7t-">&#x00A0;</span><br /><span class="label"><a 
 id="x4-10007r7"></a></span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">+</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">pygtk</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">...</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">ok</span>
</div>
<!--l. 448--><p class="noindent" >If errors are reported then the packages concerned are either not installed or not in your Python search path. (Note
that <span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">check</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">software</span></span> has become quite trivial as we&#8217;ve removed or bundled some former dependencies, but
in future we intend to make it print a comprehensive list of library versions etc.&#x00A0;to include in with bug
reports.)
<!--l. 454--><p class="noindent" >
<!--l. 454--><p class="noindent" > <h4 id="3.2" class="subsectionHead"> <span class="titlemark"> <a href="#3.2"> 3.2</a>  <a 
 id="x4-110003.2"></a>Software Bundled With Cylc </span></h4>
<!--l. 456--><p class="noindent" >Cylc bundles several third party packages which do not need to be installed separately.
     <ul class="itemize1">
     <li class="itemize"><span 
class="cmbx-10">cherrypy 6.0.2 </span>(slightly modified): a pure Python HTTP framework that we use as a web server
     for communication between server processes (suite server programs) and client programs (running
     tasks, GUIs, CLI commands). Client communication is via the Python <span 
class="cmbx-10">requests </span>library if available
                                                                                         

                                                                                         
     (recommended) or else pure Python via <span 
class="cmbx-10">urllib2</span>. <br 
class="newline" /><a 
href="http://www.cherrypy.org/" class="url" ><span 
class="pcrr7t-">http://www.cherrypy.org/</span></a> <br 
class="newline" /><a 
href="http://docs.python-requests.org/" class="url" ><span 
class="pcrr7t-">http://docs.python-_requests.org/</span></a>
     </li>
     <li class="itemize"><span 
class="cmbx-10">Jinja2 2.10</span>: a full featured template engine for Python, and its dependency <span 
class="cmbx-10">MarkupSafe 0.23</span>; both
     BSD licensed. <br 
class="newline" /><a 
href="http://jinja.pocoo.org/" class="url" ><span 
class="pcrr7t-">http://jinja.pocoo.org/</span></a> <br 
class="newline" /><a 
href="http://www.pocoo.org/projects/markupsafe/" class="url" ><span 
class="pcrr7t-">http://www.pocoo.org/projects/markupsafe/</span></a>
     </li>
     <li class="itemize">the <span 
class="cmbx-10">xdot </span>graph viewer (modified), LGPL licensed: <br 
class="newline" /><a 
href="https://github.com/jrfonseca/xdot.py" class="url" ><span 
class="pcrr7t-">https://github.com/jrfonseca/xdot.py</span></a></li></ul>
<!--l. 475--><p class="noindent" >
<!--l. 475--><p class="noindent" > <h4 id="3.3" class="subsectionHead"> <span class="titlemark"> <a href="#3.3"> 3.3</a>  <a 
 id="x4-120003.3"></a>Installing Cylc </span></h4>
<!--l. 478--><p class="noindent" >Cylc releases can be downloaded from from <a 
href="https://cylc.github.io/cylc" class="url" ><span 
class="pcrr7t-">https://cylc.github.io/cylc</span></a>.
<!--l. 480--><p class="noindent" >The wrapper script <span class="lstinline"><span 
class="pcrr7t-">admin</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">wrapper</span></span> should be installed as <span class="lstinline"><span 
class="pcrr7t-">cylc</span></span> in the system executable search path
(e.g.&#x00A0;<span class="lstinline"><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">usr</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">local</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">bin</span><span 
class="pcrr7t-">/</span></span>) and modified slightly to point to a location such as <span class="lstinline"><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">opt</span></span> where successive Cylc releases
will be unpacked side by side.
<!--l. 486--><p class="noindent" >To install Cylc, unpack the release tarball in the right location, e.g.&#x00A0;<span class="lstinline"><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">opt</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">-7.4.0</span></span>, type <span class="lstinline"><span 
class="pcrr7t-">make</span></span> inside the
release directory, and set site defaults - if necessary - in a site global config file (below).
<!--l. 491--><p class="noindent" >Make a symbolic link from <span class="lstinline"><span 
class="pcrr7t-">cylc</span></span> to the latest installed version: <span class="lstinline"><span 
class="pcrr7t-">ln</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">s</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">opt</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">-7.4.0</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">opt</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">cylc</span></span>. This will
be invoked by the central wrapper if a specific version is not requested. Otherwise, the wrapper will attempt to
invoke the Cylc version specified in <span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">CYLC_VERSION</span></span>, e.g.&#x00A0;<span class="lstinline"><span 
class="pcrr7t-">CYLC_VERSION</span><span 
class="pcrr7t-">=7.4.0</span></span>. This variable is
automatically set in task job scripts to ensure that jobs use the same Cylc version as their parent suite
server program. It can also be set by users, manually or in login scripts, to fix the Cylc version in their
environment.
<!--l. 500--><p class="noindent" >Installing subsequent releases is just a matter of unpacking the new tarballs next to the previous releases,
running <span class="lstinline"><span 
class="pcrr7t-">make</span></span> in them, and copying in (possibly with modifications) the previous site global config
file.
<!--l. 504--><p class="noindent" >
<!--l. 504--><p class="noindent" > <h4 id="3.3.1" class="subsubsectionHead"><span class="titlemark"> <a href="#3.3.1"> 3.3.1</a>  <a 
 id="x4-130003.3.1"></a>Local User Installation </span></h4>
<!--l. 507--><p class="noindent" >It is easy to install Cylc under your own user account if you don&#8217;t have root or sudo access to the system: just put
the central Cylc wrapper in <span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">HOME</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">bin</span><span 
class="pcrr7t-">/</span></span> (making sure that is in your <span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">PATH</span></span>) and modify it to point to a directory
such as <span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">HOME</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">/</span></span> where you will unpack and install release tarballs. Local installation of third party
dependencies like Graphviz is also possible, but that depends on the particular installation methods used and is
outside of the scope of this document.
<!--l. 515--><p class="noindent" >
<!--l. 515--><p class="noindent" > <h4 id="3.3.2" class="subsubsectionHead"><span class="titlemark"> <a href="#3.3.2"> 3.3.2</a>  <a 
 id="x4-140003.3.2"></a>Create A Site Config File </span></h4>
                                                                                         

                                                                                         
<!--l. 517--><p class="noindent" >Site and user global config files define some important parameters that affect all suites, some of which may need to
be customized for your site. See&#x00A0;<a 
href="cug-htmlse6.html#x7-240006">6<!--tex4ht:ref: SiteAndUserConfiguration --></a> for how to generate an initial site file and where to install it. All legal site and
user global config items are defined in&#x00A0;<a 
href="cug-htmlse15.html#x16-401000B">B<!--tex4ht:ref: SiteRCReference --></a>.
<!--l. 523--><p class="noindent" >
<!--l. 523--><p class="noindent" > <h4 id="3.3.3" class="subsubsectionHead"><span class="titlemark"> <a href="#3.3.3"> 3.3.3</a>  <a 
 id="x4-150003.3.3"></a>Configure Site Environment on Job Hosts </span></h4>
<!--l. 526--><p class="noindent" >If your users submit task jobs to hosts other than the hosts they use to run their suites, you should ensure that the
job hosts have the correct environment for running cylc. A cylc suite generates task job scripts that normally invoke
<span class="lstinline"><span 
class="pcrr7t-">bash</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">l</span></span>, i.e. it will invoke bash as a login shell to run the job script. Users and sites should ensure that
their bash login profiles are able to set up the correct environment for running cylc and their task
jobs.
<!--l. 533--><p class="noindent" >Your site administrator may customise the environment for all task jobs by adding a
<span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">CYLC_DIR</span><span 
class="pcrr7t-">}/</span><span 
class="pcrr7t-">conf</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">init</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">env</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">sh</span></span> file and populate it with the appropriate contents. If customisation is
still required, you can add your own <span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">HOME</span><span 
class="pcrr7t-">}/.</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">init</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">env</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">sh</span></span> file and populate it with the
appropriate contents.
     <ul class="itemize1">
     <li class="itemize"><span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">HOME</span><span 
class="pcrr7t-">}/.</span><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">init</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">env</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">sh</span></span>
     </li>
     <li class="itemize"><span class="lstinline"><span 
class="pcrr8c-">$</span><span 
class="pcrr7t-">{</span><span 
class="pcrr7t-">CYLC_DIR</span><span 
class="pcrr7t-">}/</span><span 
class="pcrr7t-">conf</span><span 
class="pcrr7t-">/</span><span 
class="pcrr7t-">job</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">init</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">env</span><span 
class="pcrr7t-">.</span><span 
class="pcrr7t-">sh</span></span></li></ul>
<!--l. 544--><p class="noindent" >The job will attempt to source the first of these files it finds to set up its environment.
<!--l. 547--><p class="noindent" >
<!--l. 547--><p class="noindent" > <h4 id="3.4" class="subsectionHead"> <span class="titlemark"> <a href="#3.4"> 3.4</a>  <a 
 id="x4-160003.4"></a>Automated Tests </span></h4>
<!--l. 550--><p class="noindent" >The cylc test battery is primarily intended for developers to check that changes to the source code don&#8217;t break
existing functionality. Note that some test failures can be expected to result from suites timing out, even if nothing
is wrong, if you run too many tests in parallel. See <span class="lstinline"><span 
class="pcrr7t-">cylc</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">test</span><span 
class="pcrr7t-">-</span><span 
class="pcrr7t-">battery</span><span 
class="pcrr7t-">&#x00A0;</span><span 
class="pcrr7t-">--</span><span 
class="pcrr7t-">help</span></span>.
                                                                                         

                                                                                         
<!--l. 556--><div class="crosslinks"><p class="noindent">[<a 
href="cug-htmlse4.html" >next</a>] [<a 
href="cug-htmlse2.html" >prev</a>] [<a 
href="cug-htmlse2.html#tailcug-htmlse2.html" >prev-tail</a>] [<a 
href="cug-htmlse3.html" >front</a>] [<a 
href="cug-html.html#cug-htmlse3.html" >up</a>] </p></div>
<!--l. 556--><p class="noindent" ><a 
 id="tailcug-htmlse3.html"></a>  
</body></html> 
